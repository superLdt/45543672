<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>供应商车辆信息确认测试</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='feishu-styles.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/supplier-modal.css') }}">
</head>
<body>
    <div class="container" style="padding: 50px; max-width: 1200px; margin: 0 auto;">
        <h1>供应商车辆信息确认测试页面</h1>
        <p>点击下方按钮测试新的供应商车辆信息确认模态框</p>
        
        <div style="margin: 20px 0;">
            <button class="feishu-btn feishu-btn-primary" onclick="testModal()">
                <i class="fas fa-truck"></i>
                测试车辆信息确认
            </button>
        </div>
        
        <div style="background: #f9fafb; padding: 20px; border-radius: 8px; margin-top: 30px;">
            <h3>测试数据预览</h3>
            <pre id="testData" style="background: white; padding: 15px; border-radius: 4px; font-size: 12px;"></pre>
        </div>
    </div>

    <script type="module">
        import { SupplierVehicleModal } from '{{ url_for('static', filename='modules/SupplierVehicleModal.js') }}';
        
        // 测试数据
        const testTask = {
            task_id: 'TS20240115001',
            carrier_company: '安徽顺丰运输有限公司',
            start_bureau: '合肥站',
            route_name: '上海虹桥站',
            required_date: '2024-01-15T14:30:00',
            tonnage: 25,
            volume: 68
        };
        
        // 显示测试数据
        document.getElementById('testData').textContent = JSON.stringify(testTask, null, 2);
        
        // 测试函数
        window.testModal = function() {
            SupplierVehicleModal.show(testTask);
        };
        
        // 监听任务确认事件
        window.addEventListener('task-confirmed', (e) => {
            alert(`任务 ${e.detail.taskId} 已确认！`);
        });
    </script>
</body>
</html>